{ "version": 3, "file": "lua/std/net.lua", "sources": [ "std/net/net.temper.md" ], "sourcesContent": [ "# Network Access\n\n*NetRequest* is a builder class for an HTTP send.\nNone of the methods except *send* actually initiate anything.\n\n    export class NetRequest(\n\nThe URL to request.\n\n      private url: String,\n    ) {\n      private var method: String = \u0022GET\u0022;\n      private var bodyContent: String? = null;\n      private var bodyMimeType: String? = null;\n\n*Post* switches the HTTP method to \u0022POST\u0022 and makes sure that\na body with the given textual content and mime-type will be sent\nalong.\n\n      public post(content: String, mimeType: String): Void {\n        this.method = \u0022POST\u0022;\n        this.bodyContent = content;\n        this.bodyMimeType = bodyMimeType;\n      }\n\n*Send* makes a best effort to actual send an HTTP method.\nBackends may or may not support all request features in which\ncase, send should return a broken promise.\n\n      public send(): Promise\u003cNetResponse\u003e {\n        sendRequest(\n          this.url,\n          this.method,\n          this.bodyContent,\n          this.bodyMimeType,\n        )\n      }\n    }\n\nResponse bundles together parts of an HTTP response.\n\n    @connected(\u0022NetResponse\u0022)\n    export interface NetResponse {\n\n*status* is an [HTTP Status Code](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Status).\n\n      @connected(\u0022NetResponse::getStatus\u0022)\n      get status(): Int;\n\n*contentType* describes the content type of the body if any.\n\n      @connected(\u0022NetResponse::getContentType\u0022)\n      get contentType(): String?;\n\n*bodyContent* is the textual content of the body if it is textual.\n\n      @connected(\u0022NetResponse::getBodyContent\u0022)\n      get bodyContent(): Promise\u003cString?\u003e;\n    }\n\nThis connected method does the work but is not directly\naccessible to Temper code.\n\n    @connected(\u0022stdNetSend\u0022)\n    let sendRequest(\n      url: String,\n      method: String,\n      bodyContent: String?,\n      bodyMimeType: String?,\n    ): Promise\u003cNetResponse\u003e {\n      panic()\n    }\n" ], "names": [], "mappings": "AAKI,YAkEC,EAAA,AAlED,QAkEC,AAlED,cAkEC,EAAA;AAlED,gBAkEC,CAAA,AAlED,YAkEC,CAAA,AAlED,gBAkEC,CAAA,AAlED,QAkEC,CAAA;AAlEY,UA+BV,EAAA,AA/BU,OA+BV,CAAA,AA/BU,IA+BV,AA/BU,aA+BV,EAAA;AA/BU,UAkBV,CAAA,AAJM,OAIN,CAAA,AAJM,IAIN,EAAA,AAJM,UAAK,oBAAe,CAAE,aAAgB,CAI5C;AAJM,aAIN,CAAA;AAHC,SAAoB,CAAA,AAApB,UAAoB,EAAA,AAAN,OAAM;AACpB,SAA0B,CAAA,AAA1B,eAA0B,EAAA,AAAP,YAAO;AACM,SAAA,AAAZ,QAAY,CAAA,AAAZ,gBAAY,CAAA;AAAhC,SAAgC,CAAA,AAAhC,gBAAgC,EAAA,AAAZ,MAAY;AAAA,YAAC;AAClC,IAMM;AAxBI,UA+BV,CAAA,AAPM,OAON,CAAA,AAPM,IAON,EAAA,AAPM,UAAM,QAOZ;AANC,0BAKC,CAAA,AAJC,OAAI,CAAA,AAAJ,OAAQ,CACR,QAAI,CAAA,AAAJ,UAAW,CACX,QAAI,CAAA,AAAJ,eAAgB,CAChB,QAAI,CAAA,AAAJ,gBACD;AAAA,GACF,CAAA;AA/BU,UAKX,gCAAA,AADQ,QAAW,CACnB;AADQ,SAAW,CAAA,AAAX,OAAW,EAAA,AAAX,QAAW;AAER,SAAuB,CAAA,AAAvB,UAAuB,EAAA,AAAL,MAAK;AACvB,SAA4B,CAAA,AAA5B,eAA4B,EAAA,AAAJ,OAAI,CAAA,AAAJ,IAAI;AAC5B,SAA6B,CAAA,AAA7B,gBAA6B,EAAA,AAAJ,OAAI,CAAA,AAAJ,IAAI,CAAA;AAA7B,YAA6B,CAAA;AAHxC;AAgCe,WAeoB,EAAA,AAfpB,OAeoB,CAAA,AAfpB,IAeoB,AAfpB,cAeoB;AAOjC,eAOH,EAAA,AAPD,UACE,OAAW,CACX,WAAc,CACd,gBAAoB,CACpB,iBAAqB,CAGtB;AAJC,qBAAoB,AAApB,GAAoB,AAApB,IAAoB,MAAA;AAApB,mBAAoB,EAAA,AAApB,OAAoB,CAAA,AAApB,IAAoB;AAAA;AACpB,sBAAqB,AAArB,GAAqB,AAArB,IAAqB,MAAA;AAArB,oBAAqB,EAAA,AAArB,OAAqB,CAAA,AAArB,IAAqB;AAAA;AAErB,eAAO,CAAA,AAAP,MAAO,AAAP,CAAO;AACR,IAAA;AAlED,OAkEC,EAAA,AAlED,GAkEC,CAAA;AAlEY;AAqCI,kCAAA;AArCjB,cAkEC" }